const widgets = require("widget");
const tabs = require("tabs");
const self = require("self");
const file = require("file");
var pageMod = require("page-mod");

var MemsOutPut = ['neutral-feel-like-a-sir-s.png','okay-so-there-s.png','rage-epic-beard-guy-s.png','troll-troll-face-s.png','okay-no-s.png','component-female-black-hair-only-s.png','angry-true-fucking-story!-s.png','misc-i-truthed-s.png','misc-herp-derp-s.png','cereal-guy-cereal-guy-squint-s.png','angry-desk-flip-s.png','angry-bang-bang-bang-s.png','determined-conflicting-emotions-no-words-s.png','fuck-yeah-s.png','rage-herp-s.png','angry-y-u-no-s.png','neutral-concentrated-red-tongue-s.png','rage-crazy-rage-s.png','disgusted-accidentally-open-internet-explorer-s.png','happy-lesquee-s.png','determined-feel-like-a-superhero-s.png','happy-winter-s.png','fuck-yeah-meow-yeah-s.png','determined-challenge-accepted-s.png','2-panel-forever-alone-computer-rage-s.png','determined-fumanchu-computer-stare-s.png','troll-troll-wario-s.png','troll-artsy-troll-face-s.png','worried-omg-run-red-s.png','cereal-guy-newspaper-guy-tear-s.png','happy-epic-win-s.png','neutral-if-you-know-what-i-mean-s.png','worried-challenge-denied!-s.png','trees-happy-smoking-s.png','fuck-yeah-aww-yeah-s.png','component-female-red-hair-only-s.png','neutral-feel-like-a-sir-clean-s.png','component-female-black-hair-only-styled-s.png','annoyed-facepalm-picard-s.png','2-panel-its-free-s.png','2-panel-i-lied-s.png','misc-are-you-fucking-kidding-me-s.png','okay-okay-black-s.png','angry-evil-smile-s.png','misc-jackie-chan-s.png','surprised-open-mouth-s.png','determined-challenge-accepted-drunk-s.png','misc-french-s.png','component-female-blonde-hair-only-s.png','trees-small-mouth-high-s.png','troll-problemo-s.png','misc-high-s.png','misc-will-smith-s.png','happy-oh-stop-it-you-s.png','annoyed-objection-s.png','annoyed-im-watching-u-s.png','misc-nerd-s.png','2-panel-mega-rage-s.png','fuck-yeah-fuck-yeah-clean-s.png','misc-dog-wetodd-s.png','troll-hyper-troll-s.png','me-gusta-creepy-me-gusta-s.png','surprised-gasp-s.png','surprised-rainbow-face-s.png','annoyed-facepalm-s.png','rage-unhappy-s.png','surprised-long-neck-surprise-s.png','rage-horror-s.png','neutral-sweaty-concentrated-s.png','happy-smile-he-he-he-s.png','disgusted-oh-god-s.png','troll-troll-crazy-insane-s.png','misc-wolverine-go-fuck-yourself-s.png','laughing-hah-gayyyy-s.png','happy-kitteh-smile-s.png','rage-quiet-s.png','okay-okay-clean-s.png','okay-actually-s.png','surprised-wait-s.png','misc-seriously-s.png','troll-sad-troll-face-s.png','worried-omg-run-brunette-s.png','disgusted-stephen-a-smith-s.png','troll-granny-s.png','misc-gentlemen-top-hat-s.png','neutral-poker-face-no-text-s.png','2-panel-so-there-s.png','annoyed-y-u-no-s.png','trees-big-mouth-high-s.png','misc-got-a-badass-over-here-s.png','rage-omega-s.png','misc-le-fu-s.png','neutral-addicted-to-the-internet-s.png','fap-s.png','happy-yes-s.png','troll-devil-s.png','misc-clean-all-the-things-s.png','annoyed-dude-come-on-s.png','angry-say-what-again-s.png','troll-typing-troll-s.png','okay-sad-shadow-s.png','happy-happy-poker-face-s.png','sad-numb-s.png','2-panel-gasp-s.png','troll-black-guy-s.png','disappointed-so-close-freddie-mercury-s.png','me-gusta-muy-elegante-s.png','surprised-clever-girl-s.png','angry-no-s.png','neutral-i-am-going-to-fuck-that-s.png','happy-pfftch-s.png','misc-aint-that-some-shit-s.png','angry-eternal-contempt-s.png','misc-true-story-realistic-s.png','surprised-rage-clean-s.png','determined-not-okay-smile-s.png','worried-oh-shit-s.png','laughing-yyyeeeeeaaaaa-sscciiieeenncceee-s.png','fap-gentleman-s.png','misc-spiderpman-s.png','troll-efl-troll-face-s.png','misc-true-story-s.png','fuck-that-bitch-yao-ming-s.png','determined-crazy-sweaty-concentrated-s.png','misc-pickle-time-s.png','happy-derpina-eyes-closed-s.png','surprised-kid-s.png','worried-sad-frogman-s.png','fuck-that-bitch-pirate-yao-s.png','misc-brad-pitt-s.png','troll-baby-troll-s.png','troll-troll-full-s.png','sweet-jesus-dog-s.png','rage-black-s.png','neutral-feel-like-a-liege-s.png','neutral-poker-face-2-s.png','cereal-guy-cereal-guy-s.png','misc-mother-of-metal-s.png','laughing-fuck-that-bitch-s.png','trees-stoned-inhale-s.png','rage-red-eyes-s.png','obama-really-not-bad-s.png','troll-ba-dum-tss-s.png','neutral-indeed-s.png','cereal-guy-beer-guy-s.png','rage-canadian-s.png','angry-son-i-am-disappoint-s.png','determined-challenge-considered-s.png','rage-reddit-alien-s.png','determined-feel-like-a-ninja-s.png','determined-questioning-pondering-s.png','disgusted-oh-god-why-text-s.png','trees-angry-s.png','trees-toker-face-s.png','sad-forever-alone-happy-s.png','worried-omg-run-male-s.png','misc-pedrobear-s.png','rage-lion-s.png','sweet-jesus-s.png','angry-frown-s.png','determined-possibru-s.png','happy-little-kid-s.png','neutral-its-something-s.png','fuck-yeah-gtfo-clean-s.png','misc-all-the-things-s.png','surprised-wut-s.png','sad-forever-alone-s.png','misc-are-you-fucking-kidding-me-clean-s.png','happy-never-alone-s.png','happy-ba-dum-tss-s.png','rage-classic-s.png','misc-freddie-mercury-s.png','me-gusta-me-gusta-s.png','happy-i-see-what-you-did-there-s.png','me-gusta-derp-gusta-s.png','sad-oh-no-s.png','me-gusta-me-culpa-s.png','fuck-that-bitch-fuck-that-shit-female-s.png','happy-omega-troll-face-s.png','surprised-cat-gasp-s.png','disgusted-mother-of-god-s.png','obama-clinton-not-bad-s.png','2-panel-NOPE-s.png','troll-sincere-troll-s.png','happy-derpina-s.png','rage-pig-s.png','fap-fap-accepted-s.png','sad-forever-alone-face-only-s.png','misc-nothing-to-do-here-s.png','misc-genius-s.png','fuck-that-bitch-scared-yao-s.png','surprised-brother-of-inglip-s.png','fuck-yeah-clean-smile-s.png','troll-i-feels-yah-brah-s.png','troll-troll-dad-dance-jump-s.png','angry-side-mouth-s.png','troll-i-lied-black-s.png','fap-now-kiss-s.png','fuck-yeah-close-enough-s.png','troll-problem-guy-ok-s.png','troll-problem-on-phone-s.png','me-gusta-mother-of-gusta-s.png','rage-cat-s.png','misc-milk-s.png','angry-dark-stare-s.png','angry-shaking-s.png','happy-big-smile-s.png','sad-crying-s.png','misc-i-regret-nothing-s.png','cereal-guy-cereal-guy-drink-sip-s.png','neutral-poker-face-clean-s.png','cereal-guy-newspaper-guy-s.png','misc-creepy-glasses-guy-s.png','cereal-guy-cereal-guy-original-s.png','troll-troll-dad-s.png','neutral-monocle-s.png','rage-rage-s.png','misc-actually-pretty-badass-s.png','disgusted-impossibru-s.png','happy-smile-s.png','rage-classy-rage-s.png','me-gusta-no-me-gusta-s.png','worried-omg-run-s.png','me-gusta-me-boosta-s.png','neutral-youre-the-man.-s.png','trees-stoned-stoner-s.png','angry-grinch-s.png','troll-gay-s.png','troll-troll-dad-monocle-s.png','sad-forever-alone-clean-s.png','rage-female-s.png','surprised-mother-of-god-bloody-s.png','neutral-p-p-p-pokerface-s.png','laughing-lol-crazy-clean-s.png','2-panel-forever-alone-computer-reddit-s.png','rage-mega-rage-s.png','angry-cat-glare-s.png','misc-grandma-s.png','determined-i-am-determined-s.png','fuck-that-bitch-fuck-that-shit!-s.png','sad-why-inverted-s.png','determined-serious-chiseled-not-okay-s.png','fuck-that-bitch-yao-pff-s.png','okay-pfftch-okay-s.png','2-panel-creepy-dark-stare-s.png','disgusted-oh-thats-nasty-s.png','rage-classic-original-s.png','troll-realism-troll-s.png','happy-thumbs-up-s.png','happy-female-s.png','misc-will-smith-tada-s.png','misc-epic-fail-guy-s.png','sad-challenge-failed-s.png','rage-super-rage-s.png','annoyed-are-you-fucking-kidding-me-son-s.png','okay-okay-s.png','sad-i-know-that-feel-clean-s.png','trees-confused-s.png','surprised-reaction-guy-s.png','angry-you-win-this-time!-s.png','neutral-pfffrrr-s.png','cat-meh-cat-s.png','misc-john-cena-s.png','neutral-sure-baby-s.png','obama-not-bad-s.png','trees-goofy-smile-s.png','angry-y-u-no-background-s.png','surprised-oh-fuck-no-s.png','rage-ppppiiiikkkk-s.png','cereal-guy-cereal-guy-big-squint-s.png','misc-you-dont-say-s.png','fap-schlick-schlick-female-s.png','neutral-concentrated-s.png','me-gusta-not-sure-if-gusta-s.png','misc-huh-s.png','neutral-wait-s.png','surprised-great-scott-s.png','me-gusta-troll-gusta-s.png','okay-its-not-okay-s.png','cat-cat-overload-s.png','worried-omg-run-black-s.png','surprised-omg-s.png','neutral-bad-poker-face-s.png','neutral-fsjal-s.png','neutral-whyyyyy-s.png','annoyed-mother-of-god-s.png','happy-grin-s.png','happy-cuteness-overload-s.png','misc-ohhh-yes-s.png','fuck-yeah-melvin-s.png','troll-troll-dad-full-s.png','neutral-gentlemen-s.png','neutral-dat-ass-s.png','cat-lol-s.png','misc-so-hardcore-s.png','misc-pedobear-s.png','rage-no-whyyy-s.png','misc-smashing-s.png','misc-you-dont-say-female-s.png','misc-clean-all-the-things2-s.png','neutral-conflicting-emotions-s.png','trees-high-s.png','angry-unhappy-s.png','surprised-surprised-wide-open-s.png','angry-must-resist-s.png','angry-you-what-have-you-done-s.png','fuck-yeah-gtfo-inverted-smile-clean-s.png','happy-awww-s.png','troll-creepy-troll-s.png','troll-sad-melvin-s.png','fuck-yeah-gtfo-s.png','troll-steamboat-trolly-s.png','happy-everything-went-better-than-expected-s.png','obama-michelle-not-bad-s.png','component-female-brunette-hair-only-s.png','fuck-yeah-danny-trejo-s.png','troll-melvin-s.png','fuck-yeah-clean-s.png','neutral-suspicious-s.png','determined-sweaty-concentrated-teeth-s.png','neutral-pirate-poker-face-s.png','crafty-daily-lie-s.png','happy-haters-gonna-hate-s.png','fuck-yeah-duck-yeah-s.png','cereal-guy-cereal-guy-spitting-s.png','fuck-yeah-female-aww-yeah-s.png','troll-trollface-20-s.png','me-gusta-indeed-s.png','misc-le-monkey-face-s.png','sad-sad-s.png','angry-thanks-s.png','misc-if-you-know-what-this-badass-shit-means-s.png','troll-i-lied-light-s.png','angry-mom-s.png','misc-puking-rainbows-s.png','trees-stoned-exhale-s.png','neutral-poker-face-s.png','disgusted-oh-god-why-s.png','laughing-lol-crazy-s.png','misc-t-rex-rage-s.png','fuck-that-bitch-forever-yao-ming-s.png','happy-i-see-what-you-did-there-(clean)-s.png','sad-forever-alone-solo-para-siempre-s.png','2-panel-reservoir-fuuus-s.png','rage-nuclear-s.png','misc-female-seriously-s.png','happy-your-pain-it-amuses-me-s.png','happy-something-to-do-here-s.png','me-gusta-ich-mag-s.png','troll-trollol-s.png','2-panel-forever-alone-computer-blank-s.png','misc-female-seriously-glasses-s.png','angry-hitler-s.png','component-hat-and-monocle-only-s.png','troll-troll-hot-chick-s.png','trees-happy-high-s.png','sad-i-know-that-feel-bro-s.png'];
var widget = widgets.Widget({
	  id: "mems_designer",
	  label: "Mems Designer",
	  contentURL: self.data.url("favicon.png"),
	  onClick: function() {
	    tabs.open(self.data.url("Mems_designer.html"));
	    add_mems();
	  }
	});
/*function load_mems(){
	var { env } = require('api-utils/environment');
	var memsdir = env.PWD+"/data/mems";
	var files = file.list(memsdir);
	for(var i = 0 ; i < files.length ; i++){
		MemsOutPut.push(files[i]);
	}
}*/
function add_mems()
{
	for(var i = 0 ; i < MemsOutPut.length;i++){
		var src = self.data.url("mems/"+MemsOutPut[i]);
		var script = "var div = document.createElement('div');div.id='PFrameO';div.className='PFrame PFrameO';var img = new Image();img.src='"+src+"';img.id='"+MemsOutPut[i].split('.png')[0]+"'; div.appendChild(img);" +
				"var PBar = document.getElementById('PBar');" +
				"PBar.appendChild(div);";
		pageMod.PageMod({
			include:["resource://jid1-kexys1dzmmin2g-at-jetpack/memes_designer/data/Mems_designer.html"],
			contentScriptWhen: 'ready',
			contentScript: script
		});
		}
}